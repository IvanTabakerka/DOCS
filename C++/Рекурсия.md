# Рекурсия

#### Термины

> **Рекурсия** – это способ определения функции, при котором результат возврата из функции для данного значения аргумента определяется на основе результата возврата из той же функции для предыдущего (меньшего или большего) значения аргумента.

> **Рекурсивный вызов функции** - метод вызывает сам себя, при этом запоминаются предыдущие значения внутренних локальных переменных и полученных параметров функции. Чтобы следующий шаг рекурсивного вызова отличался от предыдущего, значение как-минимум одного из параметров функции должно быть изменено. Остановка процесса рекурсивных вызовов функции происходит, когда изменяемый параметр достиг некоторого конечного значения, например, обработан последний элемент в массиве.

---

#### Реализация

Рекурсивное обращение к функции может быть осуществлено, если алгоритм определен рекурсивно. (Чё правда?)

Чтобы циклический процесс преобразовать в рекурсивный, нужно уметь определить (выделить) три важных момента:

- Условие прекращения последовательности рекурсивных вызовов функции. Например, если счетчик или итератор с именем k изменяется от 1 до 10 в возрастающем порядке, то условие прекращения есть достижение значения k=10. Условие прекращения указывается в операторе return;
- формулу следующего элемента или итератора, который используется в рекурсивном процессе. Эта формула указывается в операторе return;
- список параметров, которые передаются в рекурсивную функцию. Один из параметров обязательно есть итератор (счетчик) изменяющий свое значение. Другие параметры являются дополнительными, например, ссылка на массив, над которым осуществляется обработка.

---

**Примеры реализации**

###### Поиск суммы элементов массива

Задан массив чисел **A**. Разработать рекурсивную функцию, которая находит сумму элементов массива:
$$
S = A[0] + A[1] + … + A[n],
$$
где *n* – количество элементов массива.

```c++
int Sum(int i, int A[], int n)
{
    if (i==n-1)
        return A[i];
    else
        return A[i]+Sum(i+1,A,n);
}
```

Как видно из примера, в рекурсивную функцию **Sum()** передается 3 параметра:

- текущее значение итератора **i**;
- массив **A**;
- количество элементов массива **n**.

Выход из функции осуществляется, если будет обработан последний элемент массива. Условие прекращения рекурсивного процесса имеет вид:

```c++
if (i==n-1)
    return A[i];
```

Для суммирования текущего значения A[i] со следующими указывается строка:

```C++
return A[i]+Sum(i+1,A,n);
```

Использование функции Sum() в другом программном коде может быть таким:

```C++
int A[] = { 5, 7, 2, -1 };
int n = 4;
int sum;
sum = Sum(0,A,n); // sum = 13
```
